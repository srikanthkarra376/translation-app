"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[16],{7016:(F,f,o)=>{o.r(f),o.d(f,{BoModule:()=>l});var w=o(6895),i=o(433),h=o(9877),c=o(8752),u=o(9775),t=o(1571),Z=o(2784),U=o(4258),v=o(4694),x=o(7185);class p{constructor(e,s,r,a,L,C){this.router=e,this.text2speechService=s,this.serviceVc=r,this.service=a,this.formBuilder=L,this.toastr=C,this.recognition=new webkitSpeechRecognition,this.isStoppedSpeechRecog=!1,this.text="",this.tempWords="",this.show_button=!1,this.disPlayErrors=!1,this.show_eye=!1,this.inputText="",this.fromLanguagesList=[],this.toLanguagesList=[],this.from="",this.to="",this.textInput="",this.translatedText="",this.isLoading=!1,this.isStarted=!1,this.isStoppedAutomatically=!0,this.isShowMic=!0,this.isShowStop=!1;let P=this.router.getCurrentNavigation()?.extras?.state;this.user=P?.user,this.userUpdateForm=this.formBuilder.group({firstName:[null,[i.kI.required,i.kI.minLength(2)]],lastName:[null,[i.kI.required,i.kI.minLength(2)]],email:[null,[i.kI.required,i.kI.email,i.kI.pattern("^(?:s)?[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,}(?:s)?$")]]}),this.userUpdateForm.patchValue({firstName:this.user.firstName,lastName:this.user.lastName,email:this.user.email}),this.passwordUpdateForm=this.formBuilder.group({oldPassword:[null,[i.kI.required,i.kI.minLength(2)]],newPassword:[null,i.kI.compose([i.kI.required,u.d.patternValidator(/\d/,{hasNumber:!0}),u.d.patternValidator(/[A-Z]/,{hasCapitalCase:!0}),u.d.patternValidator(/[a-z]/,{hasSmallCase:!0}),u.d.patternValidator(/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,{hasSpecialCharacters:!0}),i.kI.minLength(8)])],confirmPassword:[null]},{validators:[u.Z.match("newPassword","confirmPassword")]}),this.service.get(`${c.V.API_HOST_URL}/languages`).subscribe(_=>{this.toLanguagesList=_,this.fromLanguagesList=_,this.fromLanguagesList=this.fromLanguagesList.sort((m,g)=>m.language>g.language?1:-1),this.toLanguagesList=this.toLanguagesList.sort((m,g)=>m.language>g.language?1:-1)})}get fields_password_update_form(){return this.passwordUpdateForm.controls}updateUserInfo(){this.service.put(this.userUpdateForm.getRawValue(),`${c.V.API_HOST_1_URL}/user/${this.user.id}`).subscribe(e=>{this.user=e,this.toastr.success("Your profile is updated succesfully")})}showPassword(){this.show_button=!this.show_button,this.show_eye=!this.show_eye}onPasswordChange(){this.passwordUpdateForm.get("confirmPassword")?.value==this.passwordUpdateForm.get("password")?.value?this.passwordUpdateForm.get("confirmPassword")?.setErrors(null):this.passwordUpdateForm.get("confirmPassword")?.setErrors({mismatch:!0}),console.log(this.passwordUpdateForm.errors)}updatePassword(){let e={...this.passwordUpdateForm.getRawValue(),username:this.user.username};this.service.post(e,`${c.V.API_HOST_1_URL}/user/resetpassword`).subscribe(s=>{this.toastr.success(s.message),this.passwordUpdateForm.reset()},s=>{this.toastr.error(s.error.message)})}Change(e,s){"from"==s?(this.init(e.target.value),this.from=e.target.value):this.to=e.target.value}translate(e){this.isLoading=!0,this.translatedText="",this.service.post({from:this.from,to:this.to,term:e.value},`${c.V.API_HOST_URL}/translate`).subscribe(r=>{this.translatedText=r.term,this.isLoading=!1})}clearInputs(){this.inputText="",this.translatedText="",this.text="",this.isShowStop=!1,this.isShowMic=!0}swap(e,s,r,a){this.from=s,this.to=e,this.translatedText=r,this.inputText=a}startService(){this.text="",this.isShowMic=!1,this.isShowStop=!0,this.start(),this.inputText=this.text}stopService(){this.isShowMic=!0,this.isShowStop=!1,this.stop(),this.text.length>0&&this.translate({value:this.text})}playAudio(){console.log("from",this.from);let e=new SpeechSynthesisUtterance;e.lang=this.from,e.text=this.inputText,e.rate=1,window.speechSynthesis.speak(e)}playAudio2(){let e=new SpeechSynthesisUtterance;e.lang=this.to,e.text=this.translatedText,e.rate=1,window.speechSynthesis.speak(e)}init(e){this.recognition.interimResults=!0,this.recognition.lang=e,this.recognition.addEventListener("result",s=>{const r=Array.from(s.results).map(a=>a[0]).map(a=>a.transcript).join("");this.tempWords=r,this.inputText=this.tempWords,console.log(r)}),this.recognition.addEventListener("end",s=>{this.wordConcat(),console.log("automatic!!"),this.isStoppedAutomatically&&(this.text.length>0&&this.translate({value:this.text}),this.recognition.stop(),this.recognition.start(),this.isStoppedAutomatically=!0)})}start(){return this.isStarted||(this.recognition.start(),this.isStarted=!0,console.log("Speech recognition started")),!0}stop(){return this.isStarted&&(this.isStoppedAutomatically=!1,this.wordConcat(),this.recognition.stop(),this.isStarted=!1,console.log("End speech recognition2")),!1}wordConcat(){this.text=this.text+" "+this.tempWords+".",this.tempWords=""}}p.\u0275fac=function(e){return new(e||p)(t.Y36(h.F0),t.Y36(Z.Tf),t.Y36(U.Z),t.Y36(v.A),t.Y36(i.qu),t.Y36(x._W))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-profile"]],decls:82,vars:6,consts:[[1,"profile__area","pt-50","pb-50","grey-bg-2"],[1,"container"],[1,"profile__basic-inner","pb-20","white-bg"],[1,"row","align-items-center"],[1,"col-xxl-6","col-md-6"],[1,"profile__basic","d-md-flex","align-items-center"],[1,"profile__basic-thumb","mr-30"],["src","https://gravatar.com/avatar/420b3334010e205ff40748d07fb4ccf2?s=400&d=robohash&r=x","alt",""],[1,"profile__basic-content"],[1,"profile__basic-title"],[1,"profile__basic-cart","d-flex","align-items-center","justify-content-md-end"],[1,"cart-info","mr-10"],[1,"cart-item"],[1,"profile__menu","pb-70","grey-bg-2"],[1,"row"],[1,"col-xxl-3","col-md-3"],[1,"profile__menu-left","white-bg","mb-50"],[1,"profile__menu-tab"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","flex-column","justify-content-start","text-start"],["id","nav-account-tab","data-bs-toggle","tab","data-bs-target","#nav-account","type","button","role","tab","aria-controls","nav-account","aria-selected","true",1,"nav-link","active"],[1,"fa-regular","fa-user-large"],["routerLink","/sign-in",1,"nav-link"],[1,"fa-regular","fa-arrow-right-from-bracket"],[1,"col-xxl-9","col-md-9"],[1,"profile__menu-right"],["id","nav-tabContent",1,"tab-content"],["id","nav-account","role","tabpanel","aria-labelledby","nav-account-tab",1,"tab-pane","show","active"],[1,"profile__info"],[1,"profile__info-top","d-flex","justify-content-between","align-items-center"],[1,"profile__info-title"],["type","button","data-bs-toggle","modal","data-bs-target","#profile_edit_modal",1,"profile__info-btn"],[1,"fa-regular","fa-pen-to-square"],[1,"profile__info-wrapper","white-bg"],[1,"profile__info-item"],[1,"profile__edit-modal"],["id","profile_edit_modal","tabindex","-1","aria-labelledby","profile_edit_modal","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"profile__edit-wrapper"],[1,"profile__edit-close"],["type","button","data-bs-toggle","modal","data-bs-target","#course_enroll_modal",1,"profile__edit-close-btn"],[1,"fa-light","fa-xmark"],[3,"formGroup"],[1,"profile__edit-input"],["type","text","placeholder","Last Name","formControlName","lastName"],["type","text","placeholder","First Name","formControlName","firstName"],["type","text","placeholder","Your Email","formControlName","email"],["type","submit","data-bs-toggle","modal",1,"tp-btn","w-100",3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"main")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),t._UZ(8,"img",7),t.qZA(),t.TgZ(9,"div",8)(10,"h3",9),t._uU(11," Welcome "),t.TgZ(12,"span"),t._uU(13),t.qZA()()()()(),t.TgZ(14,"div",4)(15,"div",10),t._UZ(16,"div",11)(17,"div",12),t.qZA()()()()()(),t.TgZ(18,"section",13)(19,"div",1)(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"button",19),t._UZ(26,"i",20),t._uU(27," My Account"),t.qZA(),t.TgZ(28,"button",21),t._UZ(29,"i",22),t._uU(30," Logout"),t.qZA()()()()(),t.TgZ(31,"div",23)(32,"div",24)(33,"div",25)(34,"div",26)(35,"div",27)(36,"div",28)(37,"h3",29),t._uU(38,"My details"),t.qZA(),t.TgZ(39,"button",30),t._UZ(40,"i",31),t._uU(41," Change"),t.qZA()(),t.TgZ(42,"div",32)(43,"div",33)(44,"p"),t._uU(45,"lastName"),t.qZA(),t.TgZ(46,"h4"),t._uU(47),t.qZA()(),t.TgZ(48,"div",33)(49,"p"),t._uU(50,"firstName"),t.qZA(),t.TgZ(51,"h4"),t._uU(52),t.qZA()(),t.TgZ(53,"div",33)(54,"p"),t._uU(55,"Email"),t.qZA(),t.TgZ(56,"h4"),t._uU(57),t.qZA()()()()()()()()()()(),t.TgZ(58,"div",34)(59,"div",35)(60,"div",36)(61,"div",37)(62,"div",38)(63,"div",39)(64,"button",40),t._UZ(65,"i",41),t.qZA()(),t.TgZ(66,"form",42)(67,"div",43)(68,"p"),t._uU(69,"lastName"),t.qZA(),t._UZ(70,"input",44),t.qZA(),t.TgZ(71,"div",43)(72,"p"),t._uU(73,"firstName"),t.qZA(),t._UZ(74,"input",45),t.qZA(),t.TgZ(75,"div",43)(76,"p"),t._uU(77,"Email"),t.qZA(),t._UZ(78,"input",46),t.qZA(),t.TgZ(79,"div",43)(80,"button",47),t.NdJ("click",function(){return s.updateUserInfo()}),t._uU(81,"update"),t.qZA()()()()()()()()()),2&e&&(t.xp6(13),t.Oqu(null==s.user?null:s.user.firstName),t.xp6(34),t.Oqu(null==s.user?null:s.user.lastName),t.xp6(5),t.Oqu(null==s.user?null:s.user.firstName),t.xp6(5),t.Oqu(null==s.user?null:s.user.email),t.xp6(9),t.Q6J("formGroup",s.userUpdateForm),t.xp6(14),t.Q6J("disabled",s.userUpdateForm.invalid))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,h.rH,i.sg,i.u],styles:["button[_ngcontent-%COMP%]:disabled{opacity:.5!important}.sign__input[_ngcontent-%COMP%]   #eye-hide[_ngcontent-%COMP%], .sign__input[_ngcontent-%COMP%]   #eye-show[_ngcontent-%COMP%]{position:absolute!important;left:92%!important;top:50%!important;cursor:pointer!important}.error[_ngcontent-%COMP%]{border-color:red!important}.success[_ngcontent-%COMP%]{border-color:#72c293!important}.error-msg[_ngcontent-%COMP%]{color:red!important;left:14px!important;font-size:12px!important;width:100%!important;text-align:left}i[_ngcontent-%COMP%]:hover{cursor:pointer}.pointer_events_none[_ngcontent-%COMP%]{pointer-events:none}"]});const y=[{path:"profile",component:p}];class n{}n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild(y),h.Bz]});var S=o(7315),A=o(3056),T=o(4333),b=o(8183);class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[v.A],imports:[i.u5,w.ez,n,i.UX,T.JX,S.UU,A.ZQ.forRoot(),b.jF,b._A]})}}]);